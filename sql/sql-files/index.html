<!doctype html><html lang=en><head><meta charset=utf-8><meta content="metio.wtf" name=author><meta content="YoSQL" name=subject><meta content="Write more SQL" name=description><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="SQL Files"><meta property="og:description" content="Writing .sql files is the essential work that needs to be done in order to use YoSQL. Each file can contain multiple SQL statements. Each statement has its own configuration and metadata attached to it.
Statement Type YoSQL supports the tree types of SQL statements and is able to generate code for them: READING for SQL statements that read data, WRITING for SQL statements that write data, and CALLING for SQL statements that call stored procedures."><meta property="og:type" content="article"><meta property="og:url" content="https://yosql.projects.metio.wtf/sql/sql-files/"><meta property="article:section" content="sql"><meta property="article:published_time" content="2019-07-07T14:27:54+02:00"><meta property="article:modified_time" content="2019-07-07T14:27:54+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SQL Files"><meta name=twitter:description content="Writing .sql files is the essential work that needs to be done in order to use YoSQL. Each file can contain multiple SQL statements. Each statement has its own configuration and metadata attached to it.
Statement Type YoSQL supports the tree types of SQL statements and is able to generate code for them: READING for SQL statements that read data, WRITING for SQL statements that write data, and CALLING for SQL statements that call stored procedures."><meta itemprop=name content="SQL Files"><meta itemprop=description content="Writing .sql files is the essential work that needs to be done in order to use YoSQL. Each file can contain multiple SQL statements. Each statement has its own configuration and metadata attached to it.
Statement Type YoSQL supports the tree types of SQL statements and is able to generate code for them: READING for SQL statements that read data, WRITING for SQL statements that write data, and CALLING for SQL statements that call stored procedures."><meta itemprop=datePublished content="2019-07-07T14:27:54+02:00"><meta itemprop=dateModified content="2019-07-07T14:27:54+02:00"><meta itemprop=wordCount content="522"><meta itemprop=keywords content="sql,files,"><link href=https://yosql.projects.metio.wtf/sql/sql-files/ rel=canonical><link href=https://yosql.projects.metio.wtf/atom.xml rel=alternate title="YoSQL Atom" type=application/atom+xml><link href=https://yosql.projects.metio.wtf/index.xml rel=alternate title="YoSQL RSS" type=application/rss+xml><link href=https://yosql.projects.metio.wtf/sitemap.xml rel=sitemap title="YoSQL Sitemap" type=application/xml><link rel=author href=https://yosql.projects.metio.wtf/humans.txt><link rel=alternate type=application/rdf+xml title=FOAF href=https://yosql.projects.metio.wtf/foaf.rdf><link rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><link href=https://yosql.projects.metio.wtf/css/mobile.min.f7b2f8e08197e3a93bca2dc49850674c55c72127825448c35fc3dac23935d22a4a86d6f23e946b2ea33e78e2adb319df3e2ebc62184d5957abdba8d693a482a0.css integrity="sha512-97L44IGX46k7yi3EmFBnTFXHISeCVEjDX8Pawjk10ipKhtbyPpRrLqM+eOKtsxnfPi68YhhNWVer26jWk6SCoA==" media="screen and (max-width: 800px)" rel=stylesheet><link href=https://yosql.projects.metio.wtf/css/tablet.min.7b33cca77c2e1d0e0510519f51f6ae57dde200dd55383fb484a5134842741cf9584dc8cee1781a2f205836190cf5185f2879c4e47591c457d27848ee20538ab6.css integrity="sha512-ezPMp3wuHQ4FEFGfUfauV93iAN1VOD+0hKUTSEJ0HPlYTcjO4XgaLyBYNhkM9RhfKHnE5HWRxFfSeEjuIFOKtg==" media="screen and (min-width: 801px) and (max-width: 1199px)" rel=stylesheet><link href=https://yosql.projects.metio.wtf/css/desktop.min.c4182a6d68c77dd9b9671179c4075a55282bef97efc44e6295a0a848a668d71bc08ed1390e3f389b61094a08ad9600308da13fe35b77eea7839ac86d2ad13c8a.css integrity="sha512-xBgqbWjHfdm5ZxF5xAdaVSgr75fvxE5ilaCoSKZo1xvAjtE5Dj84m2EJSgitlgAwjaE/41t37qeDmshtKtE8ig==" media="screen and (min-width: 1200px)" rel=stylesheet><link href=https://yosql.projects.metio.wtf/css/darkmode.min.2a5ba1ebf79d23ac725522a486af2ffebf831a4a634fc1471a4b0007daa25afb4417f20dc4cf0e2c1eeb8eb704183160ff9aaf84e060180993fe1e010ac6907f.css integrity="sha512-Kluh6/edI6xyVSKkhq8v/r+DGkpjT8FHGksAB9qiWvtEF/INxM8OLB7rjrcEGDFg/5qvhOBgGAmT/h4BCsaQfw==" media="screen and (prefers-color-scheme: dark)" rel=stylesheet><title>YoSQL &ndash; SQL Files</title></head><body id=site><header id=header><h1 id=projectname><a id=rootlink href=https://yosql.projects.metio.wtf/>YoSQL</a>
<a href=https://yosql.projects.metio.wtf/sitemap/ title="show me all pages" id=sitemaplink><img class=svgimg src=https://yosql.projects.metio.wtf/images/sitemap.svg alt=sitemap width=30 height=30></a></h1><span id=actions><a href=https://matrix.to/#/%23yosql%3amatrix.org id=matrix title="lets talk"><img class=svgimg src=https://yosql.projects.metio.wtf/images/matrix.svg alt=matrix width=32 height=32>
</a><a href=https://metio.groups.io/g/yosql/topics id=email title="i want to write you an email"><img class=svgimg src=https://yosql.projects.metio.wtf/images/email.svg alt=email width=32 height=32>
</a><a href=https://github.com/metio/yosql id=github title="want some code?"><img class=svgimg src=https://yosql.projects.metio.wtf/images/github.svg alt=github width=32 height=32>
</a><a href=https://metio.groups.io/g/yosql/calendar id=calendar title="release calendar"><img class=svgimg src=https://yosql.projects.metio.wtf/images/calendar.svg alt=github width=32 height=32>
</a><a href=https://yosql.projects.metio.wtf/atom.xml id=newsfeed title="get notified about updates"><img class=svgimg src=https://yosql.projects.metio.wtf/images/rss.svg alt=newsfeed width=32 height=32></a></span></header><nav id=navigation><ul><h3 class="mobileonly menutitle">Links</h3><li class=mobileonly><a href=https://yosql.projects.metio.wtf/>Home</a></li><li class=mobileonly><a href=https://matrix.to/#/%23yosql%3amatrix.org>Let's talk on Matrix</a></li><li class=mobileonly><a href=https://metio.groups.io/g/yosql/topics>Send an email</a></li><li class=mobileonly><a href=https://github.com/metio/yosql>See some code at GitHub</a></li><li class=mobileonly><a href=https://metio.groups.io/g/yosql/calendar>Check the release calendar</a></li><li class=mobileonly><a href=https://yosql.projects.metio.wtf/atom.xml>Subscribe to the Atom feed</a></li><li class=mobileonly><a href=https://yosql.projects.metio.wtf/sitemap/>See all pages at the sitemap</a></li><hr class="mobileonly menudivider"><h3 class="mobile-and-tablet menutitle">Navigation</h3><li><a href=/tooling/>Tooling</a><ul><li><a href=/tooling/ant/>Ant</a></li><li><a href=/tooling/bazel/>Bazel</a></li><li><a href=/tooling/cli/>CLI</a></li><li><a href=/tooling/gradle/>Gradle</a></li><li><a href=/tooling/maven/>Maven</a></li></ul></li><li><a href=/sql/ class=active>SQL</a><ul><li><a href=/sql/converters/>Converters</a></li><li class=active><a href=/sql/sql-files/>SQL Files</a></li><li><a href=/sql/structure/>Structure</a></li></ul></li><li><a href=/configuration/>Configuration</a><ul><li><a href=/configuration/annotations/>Annotations</a></li><li><a href=/configuration/converter/>Converter</a></li><li><a href=/configuration/files/>Files</a></li><li><a href=/configuration/java/>Java</a></li><li><a href=/configuration/logging/>Logging</a></li><li><a href=/configuration/names/>Names</a></li><li><a href=/configuration/repositories/>Repositories</a></li><li><a href=/configuration/resources/>Resources</a></li><li><a href=/configuration/sql/>Sql</a></li></ul></li><li><a href=/benchmarks/>Benchmarks</a><ul><li><a href=/benchmarks/codegen/>Code Generation</a></li><li><a href=/benchmarks/db-access/>Database Access</a></li></ul></li><li><a href=/community/>Community</a><ul><li><a href=/community/alternatives/>Alternatives</a></li><li><a href=/community/help/>Help</a></li></ul></li></ul></nav><main id=content><h1 class=post-titel><a href=https://yosql.projects.metio.wtf/sql/sql-files/>SQL Files
</a><a href=https://github.com/metio/yosql/commits/main/yosql-website/content/sql/sql-files.md><img src=https://yosql.projects.metio.wtf/images/history.svg height=16 width=14 class="icon svgimg" alt="see history">
</a><a href=https://github.com/metio/yosql/edit/main/yosql-website/content/sql/sql-files.md><img src=https://yosql.projects.metio.wtf/images/pencil.svg height=16 width=14 class="icon svgimg" alt="edit this page"></a></h1><div class=subtitle>Talks about:
&lt;a class="post-tag post-tag-files" href="/tags/files">files&lt;/a>, and &lt;a class="post-tag post-tag-sql" href="/tags/sql">sql&lt;/a></div><div id=post-content><p>Writing <code>.sql</code> files is the essential work that needs to be done in order to use <code>YoSQL</code>. Each file can contain multiple SQL statements. Each statement has its own configuration and metadata attached to it.</p><h2 id=statement-type>Statement Type</h2><p><code>YoSQL</code> supports the tree types of SQL statements and is able to generate code for them: <code>READING</code> for SQL statements that read data, <code>WRITING</code> for SQL statements that write data, and <code>CALLING</code> for SQL statements that call stored procedures.</p><p>In order to correctly guess which type your statement is, <code>YoSQL</code> does not parse your SQL code, but uses the file name of your <code>.sql</code> files or the <code>name</code> front matter. It applies the following rules to determine the statement type from its name:</p><ul><li>All names that start with the <a href=/configuration/repositories/allowedreadprefixes/>configured read prefixes</a> are assigned the <code>READING</code> type.</li><li>All names that start with the <a href=/configuration/repositories/allowedwriteprefixes/>configured write prefixes</a> are assigned the <code>WRITING</code> type.</li><li>All names that start with the <a href=/configuration/repositories/allowedcallprefixes/>configured call prefixes</a> are assigned the <code>CALLING</code> type.</li></ul><p>SQL statements that cannot be mapped to one of the available types <strong>are not considered</strong> while generating code! You can always overwrite that guess with a specific <a href=/configuration/sql/type/>type</a> value in your front matter. This can be useful if you want to use a special name for your statement, but don&rsquo;t want to adhere to the configured prefixes. On the other hand, enable <a href=/configuration/repositories/validatemethodnameprefixes/>validateMethodNamePrefixes</a> to enforce that all statements are named accordingly to the configured prefixes.</p><h2 id=front-matter>Front Matter</h2><p>Each SQL statement can have an optional front matter section written in YAML that is placed inside an SQL comment. Configuration options that are specified in a front matter of an SQL statement overwrite the same option that was specified globally, e.g. in a <code>pom.xml</code>/<code>build.gradle</code> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- name: someName
</span></span></span><span class=line><span class=cl><span class=c1>-- description: Retrieves a single user
</span></span></span><span class=line><span class=cl><span class=c1>-- repository: com.example.persistence.YourRepository
</span></span></span><span class=line><span class=cl><span class=c1>-- vendor: H2
</span></span></span><span class=line><span class=cl><span class=c1>-- parameters:
</span></span></span><span class=line><span class=cl><span class=c1>--   - name: userId
</span></span></span><span class=line><span class=cl><span class=c1>--     type: int
</span></span></span><span class=line><span class=cl><span class=c1>-- type: reading
</span></span></span><span class=line><span class=cl><span class=c1>-- returning: one
</span></span></span><span class=line><span class=cl><span class=c1>-- catchAndRethrow: true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>  </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>    </span><span class=n>users</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>   </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>userId</span><span class=w>
</span></span></span></code></pre></div><p>While parsing your <code>.sql</code> files, <code>YoSQL</code> will strip the SQL comment prefix (<code>--</code>) and read the remaining text as a YAML object. The available configuration options that can be used in the front matter, can be seen <a href=/configuration/sql/>here</a>.</p><h2 id=file-extension>File Extension</h2><p>By default, <code>YoSQL</code> only considers files that end in <code>.sql</code>, but this can be configured using the <a href=/configuration/files/sqlfilessuffix>sqlFilesSuffix</a> option. Lots of editors have built-in syntax support for SQL and they auto-enable that once you open an <code>.sql</code> file, so we recommend to stick to the default and only change if it necessary.</p><h2 id=file-charset>File Charset</h2><p>By default, <code>YoSQL</code> uses the <strong>UTF-8</strong> charset. In order to change this, use the <a href=/configuration/files/sqlfilescharset>sqlFilesCharset</a> option.</p><h2 id=statement-separator>Statement Separator</h2><p>By default, <code>YoSQL</code> uses <code>;</code> to separate multiple SQL statements within a single file. In order to change this, use the <a href=/configuration/files/sqlstatementseparator>sqlStatementSeparator</a> option.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- name: firstStatement
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>  </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>    </span><span class=n>users</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>   </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>userId</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- name: secondStatement
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>SELECT</span><span class=w>  </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w>    </span><span class=n>customers</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w>   </span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>:</span><span class=n>customerId</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><h2 id=license-headers>License Headers</h2><p>In case your <code>.sql</code> files contain a license header, use the <a href=/configuration/files/skiplines>skipLines</a> option to skip those initial lines. Otherwise <code>YoSQL</code> will consider those lines to be part of the first statement in your <code>.sql</code> file.</p></div></main><footer id=footer><p xmlns:dct=http://purl.org/dc/terms/ xmlns:vcard=http://www.w3.org/2001/vcard-rdf/3.0#><a rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><img src=https://yosql.projects.metio.wtf/images/cc0.png style=border-style:none alt=CC0 width=88px height=31px></a><br>To the extent possible under law,
<a rel=dct:publisher href=https://yosql.projects.metio.wtf/><span property="dct:title">metio.wtf</span>
</a>has waived all copyright and related or neighboring rights to
<span property="dct:title">yosql.projects.metio.wtf</span>.
This work is published from:
<span property="vcard:Country" datatype="dct:ISO3166" content="EN" about="https://yosql.projects.metio.wtf/">Germany</span></p></footer></body></html>